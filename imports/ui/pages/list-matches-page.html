<template name="List_matches_page">
    <div class="ui container">

        <div class="ui grid">

            <div class="computer tablet only row">
                <table class="ui table unstackable">
                  <thead>
                		<tr>
                            <th>Place &amp; Event</th>
                		    <th class="single line center aligned">Date &amp; Time</th>
                		    <th colspan="3" class="single line center aligned">Match &amp; Score</th>
                		    <th>Actions</th>
                		</tr>
                	</thead>
                  <tbody>
                      {{#each match in matches}}
                        <tr>
                      		<td>
                                <i class="{{toLowerCase match.country}} flag"></i>
                                <span style="white-space: nowrap;">{{countryname match.country}}{{comma_if match.city}}</span>
                                <span style="white-space: nowrap;">{{match.city}}</span>
                                <span style="white-space: nowrap;">{{with_dash match.venue}}</span>
                                <span style="white-space: nowrap;">{{with_dash match.event}}</span>
                            </td>
                      		<td class="center aligned">{{match.datetime}}</td>
                      		<td class="right aligned">{{match.players.[0]}}</td>
                      		<td class="single line center aligned">
                            <strong>{{match.status.frames.[0]}}</strong>
                      			<small>({{match.frames}})</small>
                      			<strong>{{match.status.frames.[1]}}</strong>
                      		</td>
                      		<td class="left aligned">{{match.players.[1]}}</td>
                      		<td class="single line"> <a href="{{ pathFor 'View_match_page' id=match._id }}">View</a>
                      			{{#if isOwner match.owner }}
                      				| <a href="{{ pathFor 'Edit_match_page' id=match._id }}">Edit</a>
                      				| <a href="{{ pathFor 'Score_match_page' id=match._id }}">Mark</a>
                      			{{/if}}
                      		</td>
                      	</tr>
                      {{/each}}
                  </tbody>
                </table>
            </div>

            <div class="mobile only row">
                <table class="ui very basic table">
                  <tbody>
                      {{#each match in matches}}
                        <tr class="center aligned">
                      		<td>
                                <i class="{{toLowerCase match.country}} flag"></i>
                                {{match.country}}{{comma_if match.city}} {{match.city}} {{with_dash match.venue}}

                            </td>
                            <td>
                                {{with_eta match.event}}
                                <span style="white-space:nowrap">
                                    {{match.datetime}}
                                </span>
                            </td>
                            <td>
                                <big><strong>{{match.players.[0]}}</strong></big>
                            </td>
                            <td>
                                <big><strong>{{match.status.frames.[0]}}</strong></big>
                      			({{match.frames}})
                      			<big><strong>{{match.status.frames.[1]}}</strong></big>
                            </td>
                            <td>
                                <big><strong>{{match.players.[1]}}</strong></big>
                            </td>
                      		<td>
                                <a href="{{ pathFor 'View_match_page' id=match._id }}">View</a>
                      			{{#if isOwner match.owner }}
                      				| <a href="{{ pathFor 'Edit_match_page' id=match._id }}">Edit</a>
                      				| <a href="{{ pathFor 'Score_match_page' id=match._id }}">Mark</a>
                      			{{/if}}
                      		</td>
                        </tr>
                      {{/each}}
                  </tbody>
                </table>
            </div>

        </div>

        <!-- {{#unless Template.subscriptionsReady}}
            <div class="ui active inverted dimmer">
              <div class="ui text loader">Loading</div>
            </div>
        {{/unless}} -->

    </div>
</template>
