<template name="Score_match_page">

<style type="text/css">
  body {
    background-color: #021c07;
    padding-top: 20px;
  }

  #red {
    background-image: url('/images/balls/red.png') !important;
    width: 80px;
    height: 80px;
    background-size: cover;
    background-color: #0000;
  }

  #yellow {
    background-image: url('/images/balls/yellow.png') !important;
    width: 80px;
    height: 80px;
    background-size: cover;
    background-color: #0000;
  }

  #green {
    background-image: url('/images/balls/green.png') !important;
    width: 80px;
    height: 80px;
    background-size: cover;
    background-color: #0000;
  }

  #brown {
    background-image: url('/images/balls/brown.png') !important;
    width: 80px;
    height: 80px;
    background-size: cover;
    background-color: #0000;
  }

  #blue {
    background-image: url('/images/balls/blue.png') !important;
    width: 80px;
    height: 80px;
    background-size: cover;
    background-color: #0000;
  }

  #pink {
    background-image: url('/images/balls/pink.png') !important;
    width: 80px;
    height: 80px;
    background-size: cover;
    background-color: #0000;
  }

  #black {
    background-image: url('/images/balls/black.png') !important;
    width: 80px;
    height: 80px;
    background-size: cover;
    background-color: #0000;
    background-color: #0000;
  }

  #red:disabled, #yellow:disabled, #green:disabled, #brown:disabled, #blue:disabled, #pink:disabled, #black:disabled {
    opacity: 0.15 !important;
  }
</style>

{{#with match}}

<div id="key-catcher" tabindex="0" style="outline: none">
    <div class="ui container">

        <!-- Top display (players, score, messages) -->

        <div class="ui padded middle aligned grid">

            <!-- Computer only first score row -->

            <div class="computer only row" style="background-color: lightGrey">
                <div class="one wide column">
                    <div class="ui small right aligned header" >
                        <i class="play icon"
                          style="visibility: {{ playing1 }};"></i>
                    </div>
                </div>
                <div id="player1" class="four wide column"
                  style="cursor: pointer;">
                    <div class="ui large center aligned header"
                      style="font-family: Arial, Helvetica, sans-serif;">
                        {{{ twolines players.[0] }}}
                    </div>
                </div>
                <div class="two wide center aligned column">
                    <div class="ui small statistic">
                        <div class="value">
                            {{ status.score.[0] }}
                        </div>
                    </div>
                </div>
                <div class="two wide center aligned column">
                    <div class="ui mini statistic">
                        <div class="value">
                            {{ status.frames.[0] }}
                            <small>({{ frames }})</small>
                            {{ status.frames.[1] }}
                        </div>
                        <div class="label">Фреймы</div>
                    </div>
                </div>
                <div class="two wide center aligned column">
                    <div class="ui small statistic">
                        <div class="value">
                            {{ status.score.[1] }}
                        </div>
                    </div>
                </div>
                <div id="player2" class="four wide column"
                  style="cursor: pointer;">
                    <div class="ui center aligned large header"
                      style="font-family: Arial, Helvetica, sans-serif;">
                        {{{ twolines players.[1] }}}
                    </div>
                </div>
                <div class="one wide column">
                    <div class="ui small right aligned header">
                        <i class="play flipped icon"
                          style="visibility: {{ playing2 }};"></i>
                    </div>
                </div>
            </div>

            <!-- Computer only second score row -->

            {{#if message_to_display}}
            <div class="computer only row"
              style="background-color: rgb(249, 250, 251);">
                <!-- to keep the hight of the row -->
                <div class="one wide center aligned column"
                  style="visibility: hidden;">
                    <div class="ui mini statistic">
                        <div class="value">0</div>
                        <div class="label">0</div>
                    </div>
                </div>
                <div class="fourteen wide column">
                    <div class="ui center aligned small grey header">
                        {{ message }}
                    </div>
                </div>
                <div class="one wide center aligned column">
                </div>
            </div>
            {{else}}
            <div class="computer only three column row"
              style="background-color: rgb(249, 250, 251);">
                <div class="six wide column">
                    <div class="ui center aligned small grey header">
                        {{ status.messages.[0] }}
                    </div>
                </div>
                <div class="four wide center aligned column">
                    <div class="ui mini statistic">
                        <div class="value">
                            {{ status.break_points }}
                        </div>
                        <div class="label">
                            Серия
                        </div>
                    </div>
                </div>
                <div class="six wide column">
                    <div class="ui center aligned small grey header">
                        {{ status.messages.[1] }}
                    </div>
                </div>
            </div>
            {{/if}}

            <!-- Mobile and tablet only first score row -->

            <div class="mobile tablet only row">
                <div id="player1" class="eight wide right aligned squeezed column"
                  style="background-color: {{ playing1_highlight }};">
                    <div class="ui center aligned small header"
                      style="font-family: Arial, Helvetica, sans-serif;">
                        {{{ twolines players.[0] }}}
                    </div>
                </div>
                <div id="player2" class="eight wide left aligned squeezed column"
                  style="background-color: {{ playing2_highlight }};">
                    <div class="ui center aligned small header"
                      style="font-family: Arial, Helvetica, sans-serif;">
                        {{{ twolines players.[1] }}}
                    </div>
                </div>
            </div>

            <!-- Mobile and tablet only second score row -->

            <div class="mobile tablet only row"
              style="background-color: #e6e6e6;">
                <div class="five wide center aligned squeezed column">
                    <div class="ui tiny statistic">
                        <div class="value">
                            {{ status.score.[0] }}
                        </div>
                    </div>
                </div>
                <div class="six wide center aligned squeezed column">
                    <div class="ui mini statistic">
                        <div class="value">
                            {{ status.frames.[0] }}
                            <small>({{ frames }})</small>
                            {{ status.frames.[1] }}
                        </div>
                        <div class="label">Фреймы</div>
                    </div>
                </div>
                <div class="five wide center aligned squeezed column">
                    <div class="ui tiny statistic">
                        <div class="value">
                            {{ status.score.[1] }}
                        </div>
                    </div>
                </div>
            </div>

            <!-- Mobile and tablet only third score row -->

            {{#if message_to_display}}
            <div class="mobile tablet only row"
              style="background-color: rgb(249, 250, 251);">
                <!-- to keep the hight of the row -->
                <div class="one wide center aligned squeezed column"
                  style="visibility: hidden;">
                    <div class="ui mini statistic">
                        <div class="value">0</div>
                        <div class="label">0</div>
                    </div>
                </div>
                <div class="fourteen wide squeezed column">
                    <div class="ui center aligned tiny grey header">
                        {{ message }}
                    </div>
                </div>
                <div class="one wide center aligned squeezed column">
                </div>
            </div>
            {{else}}
            <div class="mobile tablet only row"
              style="background-color: rgb(249, 250, 251);">
                <div class="five wide center aligned squeezed column"
                  style="display: {{ playing1_display }};">
                    <div class="ui mini statistic">
                        <div class="value">
                            {{ status.break_points }}
                        </div>
                        <div class="label">
                            Серия
                        </div>
                    </div>
                </div>
                <div class="eleven wide squeezed column"
                  style="display: {{ playing1_display }};">
                    <div class="ui center aligned micro grey header">
                        {{ status.messages.[0] }} {{ status.messages.[1] }}
                    </div>
                </div>
                <div class="eleven wide squeezed column"
                  style="display: {{ playing2_display }};">
                    <div class="ui center aligned micro grey header">
                        {{ status.messages.[0] }} {{ status.messages.[1] }}
                    </div>
                </div>
                <div class="five wide center aligned squeezed column"
                  style="display: {{ playing2_display }};">
                    <div class="ui mini statistic">
                        <div class="value">
                            {{ status.break_points }}
                        </div>
                        <div class="label">
                            Серия
                        </div>
                    </div>
                </div>
            </div>
            {{/if}}
        </div>

        <div class="ui center aligned container grid">

            <!-- Computer only marking buttons -->

            <div class="computer only row">
                <div class="ui center aligned grid">
                    <div class="fourteen wide column">
                        <div class="ui seven column equal width grid">
                            <div class="column">
                                <button id="red" class="ui circular massive red icon button" {{red_disabled}}>
                                </button>
                            </div>
                            <div class="column">
                                <button id="yellow" class="ui circular massive yellow icon button" {{yellow_disabled}}>
                                </button>
                            </div>
                            <div class="column">
                                <button id="green" class="ui circular massive green icon button" {{green_disabled}}>
                                </button>
                            </div>
                            <div class="column">
                                <button id="brown" class="ui circular massive brown icon button" {{brown_disabled}}>
                                </button>
                            </div>
                            <div class="column">
                                <button id="blue" class="ui circular massive blue icon button" {{blue_disabled}}>
                                </button>
                            </div>
                            <div class="column">
                                <button id="pink" class="ui circular massive pink icon button" {{pink_disabled}}>
                                </button>
                            </div>
                            <div class="column">
                                <button id="black" class="ui circular massive black icon button" {{black_disabled}}>
                                </button>
                            </div>
                        </div> <!-- seven column grid -->
                    </div>
                    <div class="sixteen wide column">
                        <div class="ui four column equal width grid">
                            <div class="column">
                                <div id="break-off" class="ui large fluid left labeled {{break_off_disabled}} button">
                                    <div class="ui label"><div class="key">O</div></div>
                                    <div class="ui large fluid button">{{break_off_text}}</div>
                                </div>
                            </div>
                            <div class="column">
                                <div id="end-break" class="ui large fluid left labeled {{end_break_disabled}} button">
                                    <div class="ui label"><div class="key">E</div></div>
                                    <div class="ui large fluid button">Завершить серию</div>
                                </div>
                            </div>
                            <div class="column">
                                <div id="re-rack" class="ui large fluid left labeled {{re_rack_disabled}} button">
                                    <div class="ui label"><div class="key">R</div></div>
                                    <div class="ui large fluid button">Начать заново</div>
                                </div>
                            </div>
                            <div class="column">
                                <div id="red-lost" class="ui large fluid left labeled {{red_lost_disabled}} button">
                                    <div class="ui label"><div class="key">L</div></div>
                                    <div class="ui large fluid animated fade button">
                                        <div class="visible content">Упал красный</div>
                                        <div class="hidden content">{{status.red}} remain</div>
                                    </div>
                                </div>
                            </div>
                            <div class="column">
                                <div id="foul4" class="ui large fluid left labeled {{foul4_disabled}} button">
                                    <div class="ui label"><div class="key">F4</div></div>
                                    <div class="ui large fluid button">Фол 4</div>
                                </div>
                            </div>
                            <div class="column">
                                <div id="foul5" class="ui large fluid left labeled {{foul5_disabled}} button">
                                    <div class="ui label"><div class="key">F5</div></div>
                                    <div class="ui large fluid button">Фол 5</div>
                                </div>
                            </div>
                            <div class="column">
                                <div id="foul6" class="ui large fluid left labeled {{foul6_disabled}} button">
                                    <div class="ui label"><div class="key">F6</div></div>
                                    <div class="ui large fluid button">Фол 6</div>
                                </div>
                            </div>
                            <div class="column">
                                <div id="foul7" class="ui large fluid left labeled {{foul7_disabled}} button">
                                    <div class="ui label"><div class="key">F7</div></div>
                                    <div class="ui large fluid button">Фол 7</div>
                                </div>
                            </div>
                            <div class="column">
                                <div id="miss" class="ui large fluid left labeled {{miss_disabled}} button">
                                    <div class="ui label"><div class="key">M</div></div>
                                    <div class="ui large fluid button">Промах</div>
                                </div>
                            </div>
                            <div class="column">
                                <div id="free-ball" class="ui large fluid left labeled {{free_ball_disabled}} button">
                                    <div class="ui label"><div class="key">F</div></div>
                                    <div class="ui large fluid button">Свободный шар</div>
                                </div>
                            </div>
                            <div id="put-back" class="column">
                                <div class="ui large fluid left labeled {{put_back_disabled}} button">
                                    <div class="ui label"><div class="key">B</div></div>
                                    <div class="ui large fluid button">Вернуть позицию</div>
                                </div>
                            </div>
                            <div class="column">
                                <div id="play-again" class="ui large fluid left labeled {{play_again_disabled}} button">
                                    <div class="ui label"><div class="key">A</div></div>
                                    <div class="ui large fluid button">Играть снова</div>
                                </div>
                            </div>
                            <div class="column">
                                <div id="frame-won" class="ui large fluid left labeled {{frame_won_disabled}} button">
                                    <div class="ui olive label disabled"><div class="key">W</div></div>
                                    <div class="ui large olive fluid button">Фрейм выигран</div>
                                </div>
                            </div>
                            <div class="column">
                                <div id="conceded" class="ui large fluid left labeled {{conceded_disabled}} button">
                                    <div class="ui orange label disabled"><div class="key">C</div></div>
                                    <div class="ui large orange fluid button">Сдаться</div>
                                </div>
                            </div>
                            <div class="column">
                                <div id="undo" class="ui large fluid left labeled {{undo_disabled}} button">
                                    <div class="ui label"><div class="key">Z</div></div>
                                    <div class="ui large fluid button">Отмена</div>
                                </div>
                            </div>
                            <div class="column">
                                <div id="redo" class="ui large fluid left labeled {{redo_disabled}} button">
                                    <div class="ui label"><div class="key">Y</div></div>
                                    <div class="ui large fluid button">Повтор</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tablet only marking buttons -->

            <div class="tablet only row">
                <div class="ui center aligned grid">
                    <div class="fifteen wide column">
                        <div class="ui seven column equal width grid">
                            <div class="column">
                                <button id="red" class="ui circular massive red icon button" {{red_disabled}}>
                                </button>
                            </div>
                            <div class="column">
                                <button id="yellow" class="ui circular massive yellow icon button" {{yellow_disabled}}>
                                </button>
                            </div>
                            <div class="column">
                                <button id="green" class="ui circular massive green icon button" {{green_disabled}}>
                                </button>
                            </div>
                            <div class="column">
                                <button id="brown" class="ui circular massive brown icon button" {{brown_disabled}}>
                                </button>
                            </div>
                            <div class="column">
                                <button id="blue" class="ui circular massive blue icon button" {{blue_disabled}}>
                                </button>
                            </div>
                            <div class="column">
                                <button id="pink" class="ui circular massive pink icon button" {{pink_disabled}}>
                                </button>
                            </div>
                            <div class="column">
                                <button id="black" class="ui circular massive black icon button" {{black_disabled}}>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="sixteen wide column">
                        <div class="ui four column equal width grid">
                            <div class="column">
                                <div id="break-off" class="ui large fluid {{break_off_disabled}} button">
                                    {{break_off_text}}
                                </div>
                            </div>
                            <div class="column">
                                <div id="end-break" class="ui large fluid {{end_break_disabled}} button">
                                    Завершить серию
                                </div>
                            </div>
                            <div class="column">
                                <div id="re-rack" class="ui large fluid {{re_rack_disabled}} button">
                                    Начать заново
                                </div>
                            </div>
                            <div class="column">
                                <div id="red-lost" class="ui large fluid animated fade {{red_lost_disabled}} button">
                                    <div class="visible content">Упал красный</div>
                                    <div class="hidden content">{{status.red}} remain</div>
                                </div>
                            </div>
                            <div class="column">
                                <div id="foul4" class="ui large fluid {{foul4_disabled}} button">
                                    Фол 4
                                </div>
                            </div>
                            <div class="column">
                                <div id="foul5" class="ui large fluid {{foul5_disabled}} button">
                                    Фол 5
                                </div>
                            </div>
                            <div class="column">
                                <div id="foul6" class="ui large fluid {{foul6_disabled}} button">
                                    Фол 6
                                </div>
                            </div>
                            <div class="column">
                                <div id="foul7" class="ui large fluid {{foul7_disabled}} button">
                                    Фол 7
                                </div>
                            </div>
                            <div class="column">
                                <div id="miss" class="ui large fluid {{miss_disabled}} button">
                                    Промах
                                </div>
                            </div>
                            <div class="column">
                                <div id="free-ball" class="ui large fluid {{free_ball_disabled}} button">
                                    Свободный шар
                                </div>
                            </div>
                            <div id="put-back" class="column">
                                <div class="ui large fluid {{put_back_disabled}} button">
                                    Вернуть позицию
                                </div>
                            </div>
                            <div class="column">
                                <div id="play-again" class="ui large fluid {{play_again_disabled}} button">
                                    Играть снова
                                </div>
                            </div>
                            <div class="column">
                                <div id="frame-won" class="ui large olive fluid {{frame_won_disabled}} button">
                                    Фрейм выигран
                                </div>
                            </div>
                            <div class="column">
                                <div id="conceded" class="ui large orange fluid {{conceded_disabled}} button">
                                    Сдаться
                                </div>
                            </div>
                            <div class="column">
                                <div id="undo" class="ui large fluid {{undo_disabled}} button">
                                    Отмена
                                </div>
                            </div>
                            <div class="column">
                                <div id="redo" class="ui large fluid {{redo_disabled}} button">
                                    Повторить
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Mobile only marking buttons -->

            <div class="mobile only row">
                <div class="ui center aligned grid">
                    <div class="sixteen wide column">
                        <div class="ui four column equal width grid"
                          style="margin: -28px">
                            <div class="column">
                                <button id="red" class="ui circular massive red icon button" {{red_disabled}}>
                                </button>
                            </div>
                            <div class="column">
                                <button id="yellow" class="ui circular massive yellow icon button" {{yellow_disabled}}>
                                </button>
                            </div>
                            <div class="column">
                                <button id="green" class="ui circular massive green icon button" {{green_disabled}}>
                                </button>
                            </div>
                            <div class="column">
                                <button id="brown" class="ui circular massive brown icon button" {{brown_disabled}}>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="twelve wide column">
                        <div class="ui three column equal width grid"
                          style="margin: -25px; margin-bottom: -20px; margin-top: -40px">
                            <div class="column">
                                <button id="blue" class="ui circular massive blue icon button" {{blue_disabled}}>
                                </button>
                            </div>
                            <div class="column">
                                <button id="pink" class="ui circular massive pink icon button" {{pink_disabled}}>
                                </button>
                            </div>
                            <div class="column">
                                <button id="black" class="ui circular massive black icon button" {{black_disabled}}>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="sixteen wide column">
                        <div class="ui two column equal width grid">
                            <div class="column" style="margin: -12px">
                                <div id="break-off" class="ui fluid {{break_off_disabled}} button">
                                    {{break_off_text}}
                                </div>
                            </div>
                            <div class="column" style="margin: -12px">
                                <div id="end-break" class="ui fluid {{end_break_disabled}} button">
                                    Завершить серию
                                </div>
                            </div>
                            <div class="column" style="margin: -12px">
                                <div id="red-lost" class="ui fluid {{red_lost_disabled}} button">
                                    Упал красный
                                </div>
                            </div>
                            <div class="column" style="margin: -12px">
                                <div id="re-rack" class="ui fluid {{re_rack_disabled}} button">
                                    Начать заново
                                </div>
                            </div>
                            <div class="column" style="margin: -12px">
                                <div id="foul4" class="ui fluid {{foul4_disabled}} button">
                                    Фол 4
                                </div>
                            </div>
                            <div class="column" style="margin: -12px">
                                <div id="foul5" class="ui fluid {{foul5_disabled}} button">
                                    Фол 5
                                </div>
                            </div>
                            <div class="column" style="margin: -12px">
                                <div id="foul6" class="ui fluid {{foul6_disabled}} button">
                                    Фол 6
                                </div>
                            </div>
                            <div class="column" style="margin: -12px">
                                <div id="foul7" class="ui fluid {{foul7_disabled}} button">
                                    Фол 7
                                </div>
                            </div>
                            <div class="column" style="margin: -12px">
                                <div id="miss" class="ui fluid {{miss_disabled}} button">
                                    Промах
                                </div>
                            </div>
                            <div class="column" style="margin: -12px">
                                <div id="free-ball" class="ui fluid {{free_ball_disabled}} button">
                                    Свободный шар
                                </div>
                            </div>
                            <div id="put-back" class="column" style="margin: -12px">
                                <div class="ui fluid {{put_back_disabled}} button">
                                    Вернуть позицию
                                </div>
                            </div>
                            <div class="column" style="margin: -12px">
                                <div id="play-again" class="ui fluid {{play_again_disabled}} button">
                                    Играть снова
                                </div>
                            </div>
                            <div class="column" style="margin: -12px">
                                <div id="undo" class="ui fluid {{undo_disabled}} button">
                                    Отмена
                                </div>
                            </div>
                            <div class="column" style="margin: -12px">
                                <div id="redo" class="ui fluid {{redo_disabled}} button">
                                    Повтор
                                </div>
                            </div>
                            <div class="column" style="margin: -12px">
                                <div id="frame-won" class="ui olive fluid {{frame_won_disabled}} button">
                                    Фрейм выигран
                                </div>
                            </div>
                            <div class="column" style="margin: -12px">
                                <div id="conceded" class="ui orange fluid {{conceded_disabled}} button">
                                    Сдаться
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>

    </div>
</div>

{{/with}}
</template>
